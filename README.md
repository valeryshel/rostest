# rostest ‚Äì –ö–∞—Ç–∞–ª–æ–≥ –≤—Ä–∞—á–µ–π

–ö–∞—Ç–∞–ª–æ–≥ –≤—Ä–∞—á–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, ACF –ø–æ–ª—è–º–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

## üìã –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç:

- üè• –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç–∏–ø –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤—Ä–∞—á–µ–π (doctors)
- üè∑Ô∏è –î–≤–µ —Ç–∞–∫—Å–æ–Ω–æ–º–∏–∏: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è) –∏ –ì–æ—Ä–æ–¥–∞ (–Ω–µ–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è)
- ‚≠ê –ü–æ–ª—è ACF –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏: —Ä–µ–π—Ç–∏–Ω–≥, —Ü–µ–Ω–∞, —Å—Ç–∞–∂
- üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –≥–æ—Ä–æ–¥—É
- üìä –°–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É, —Ü–µ–Ω–µ, –æ–ø—ã—Ç—É
- üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å nonce-—Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**–í–∞–ª–µ—Ä–∏—è –°—É–≤–æ—Ä–æ–≤–∞** [@valeryshel](https://t.me/valeryshel)
GitHub: [@valeryshel](https://github.com/valeryshel)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- PHP 7.4+
- WordPress 5.9+
- OpenServer, XAMPP –∏–ª–∏ –¥—Ä—É–≥–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- –ü–ª–∞–≥–∏–Ω Advanced Custom Fields (ACF) Pro/Free
- MySQL 5.7+

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone https://github.com/valeryshel/rostest.git
   cd rostest
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ WordPress:** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É —Ö–æ—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `c:\OpenServer\domains\rostest`)
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É WordPress —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–ª–∞–≥–∏–Ω—ã:**
   - –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å WordPress –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `–ü–ª–∞–≥–∏–Ω—ã ‚Üí –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π`
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Advanced Custom Fields** (—Å–≤–æ–±–æ–¥–Ω–∞—è –∏–ª–∏ Pro –≤–µ—Ä—Å–∏—è)
   - –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω

4. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Ç–µ–º—É:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `–í–Ω–µ—à–Ω–∏–π –≤–∏–¥ ‚Üí –¢–µ–º—ã`
   - –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Ç–µ–º—É **rostest**

5. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ ACF –ø–æ–ª—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `ACF ‚Üí Tools ‚Üí Import`
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `wp-content/themes/rostest/includes/doctor-fields.json`
   - –ù–∞–∂–º–∏—Ç–µ Import

6. **–ì–æ—Ç–æ–≤–æ!** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–∞ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ç–µ–º—ã.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rostest/
‚îú‚îÄ‚îÄ wp-admin/               # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å WordPress
‚îú‚îÄ‚îÄ wp-content/
‚îÇ   ‚îú‚îÄ‚îÄ plugins/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ advanced-custom-fields/  # ACF –ø–ª–∞–≥–∏–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ akismet/                 # –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ classic-editor/          # –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ themes/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rostest/               # –û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ includes/          # –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã —Ç–µ–º—ã
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ post-types.php        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–∞ "doctors"
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ taxonomies.php        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∞–∫—Å–æ–Ω–æ–º–∏–π
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ doctors-functions.php # –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (pre_get_posts)
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ utils.php             # –£—Ç–∏–ª–∏—Ç—ã —Ç–µ–º—ã
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ doctor-fields.json    # JSON –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ ACF –ø–æ–ª–µ–π
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ template-parts/    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ js/                # JavaScript —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ archive-doctors.php # –®–∞–±–ª–æ–Ω —Å–ø–∏—Å–∫–∞ –≤—Ä–∞—á–µ–π
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ single-doctors.php  # –®–∞–±–ª–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Ä–∞—á–∞
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ functions.php       # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ languages/                 # –§–∞–π–ª—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫)
‚îÇ   ‚îî‚îÄ‚îÄ uploads/                   # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–∞—á–µ–π)
‚îú‚îÄ‚îÄ wp-includes/            # –Ø–¥—Ä–æ WordPress
‚îú‚îÄ‚îÄ wp-config.php           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î –∏ –∫–ª—é—á–∏
‚îú‚îÄ‚îÄ index.php               # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª WordPress
‚îî‚îÄ‚îÄ .htaccess               # –ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è URL
```

## üåê URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∞–¥—Ä–µ—Å–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | `http://rostest/` | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞ |
| –í—Å–µ –≤—Ä–∞—á–∏ | `http://rostest/doctors/` | –ê—Ä—Ö–∏–≤ –≤—Å–µ—Ö –≤—Ä–∞—á–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π |
| –í—Ä–∞—á (–ø—Ä–∏–º–µ—Ä) | `http://rostest/doctors/sidorenko-anna-pavlovna/` | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –≤—Ä–∞—á–∞ |
| –ü–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ | `http://rostest/specialization/ortoped/` | –í—Ä–∞—á–∏ –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ |
| –ü–æ –≥–æ—Ä–æ–¥—É | `http://rostest/city/moskva/` | –í—Ä–∞—á–∏ –ø–æ –≥–æ—Ä–æ–¥—É |

**–ü—Ä–∏–º–µ—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/doctors/`):**

```
/doctors/?specialization=cardiology&city=yekaterinburg&sort=rating_desc
```

## üìä –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–º–∏


### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω WordPress Importer

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω **WordPress Importer**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Üí –ò–º–ø–æ—Ä—Ç ‚Üí WordPress**
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ XML —Ñ–∞–π–ª —Å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–º–∏ `wp-content/themes/rostest/includes/mock-data.xml`
4. –°–æ–ø–æ—Å—Ç–∞–≤—å—Ç–µ –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ PhpMyAdmin

1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º rostest
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Import ‚Üí File to import ‚Üí GO**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `wp-content/themes/rostest/includes/rostest.sql`
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ SQL —Ñ–∞–π–ª —Å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–º


## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. `pre_get_posts` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ WP_Query –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

‚úÖ **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –ª–æ–≥–∏–∫–∏** - –≤—Å—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ –æ–¥–Ω–æ–º —Ö—É–∫–µ
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Ñ–∏–ª—å—Ç—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ SQL, –Ω–µ –≤ PHP
‚úÖ **REST API** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å REST —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
‚úÖ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π –≤—ã–±–æ—Ä–∫–æ–π
‚úÖ **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –º–æ–∂–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ nonce

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã (–ø–æ—á–µ–º—É –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã):**

‚ùå `posts_where` / `posts_join` - –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ, —Å–ª–æ–∂–Ω–µ–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
‚ùå `template_redirect` - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –ø–æ–∑–¥–Ω–æ, –ø–æ—Å–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î
‚ùå –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ PHP –ø–æ—Å–ª–µ `have_posts()` - –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ª–∏—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ
‚ùå AJAX –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ - —É—Å–ª–æ–∂–Ω—è–µ—Ç –∫–æ–¥, –º–µ–¥–ª–µ–Ω–Ω–µ–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ:** [wp-content/themes/rostest/includes/doctors-functions.php](wp-content/themes/rostest/includes/doctors-functions.php)

---

### 2. –¢–∞–∫—Å–æ–Ω–æ–º–∏–∏: –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è vs –ù–µ–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è

#### **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äì –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è (`hierarchical: true`)

**–ü–æ—á–µ–º—É –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è?**

–í—Ä–∞—á–µ–±–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ –∏–µ—Ä–∞—Ä—Ö–∏—é:
- üè• **–•–∏—Ä—É—Ä–≥–∏—è** (—Ä–æ–¥–∏—Ç–µ–ª—å)
  - –û–±—â–∞—è —Ö–∏—Ä—É—Ä–≥–∏—è
  - –ö–∞—Ä–¥–∏–æ—Ö–∏—Ä—É—Ä–≥–∏—è
  - –ù–µ–π—Ä–æ—Ö–∏—Ä—É—Ä–≥–∏—è
- ü´Ä **–ö–∞—Ä–¥–∏–æ–ª–æ–≥–∏—è** (—Ä–æ–¥–∏—Ç–µ–ª—å)
  - –ö–∞—Ä–¥–∏–æ—Ö–∏—Ä—É—Ä–≥–∏—è
  - –ò–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ä–¥–∏–æ–ª–æ–≥–∏—è

**–ü–ª—é—Å—ã:**
- –õ–æ–≥–∏—á–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π
- –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –£–¥–æ–±–Ω–µ–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (–¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ breadcrumb –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

---

#### **–ì–æ—Ä–æ–¥** ‚Äì –ù–µ–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è (`hierarchical: false`)

**–ü–æ—á–µ–º—É –Ω–µ–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è?**

–ì–æ—Ä–æ–¥–∞ ‚Äì —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ç–µ–≥–∏, –º–µ–∂–¥—É –∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ –≥–æ—Ä–æ–¥–æ–≤
- –£–¥–æ–±–Ω–µ–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (–æ–±–ª–∞–∫–æ —Ç–µ–≥–æ–≤)
- –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**–ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º?** ‚úÖ –î–∞, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- **–†–æ—Å—Å–∏—è** (—Ä–æ–¥–∏—Ç–µ–ª—å)
  - **–£—Ä–∞–ª** (—Ä–æ–¥–∏—Ç–µ–ª—å)
    - –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥
    - –¢—é–º–µ–Ω—å
    - –ß–µ–ª—è–±–∏–Ω—Å–∫
  - **–°–∏–±–∏—Ä—å** (—Ä–æ–¥–∏—Ç–µ–ª—å)
    - –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫

---

## üìù JSON ACF –§–∞–π–ª (doctor-fields.json)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–§–∞–π–ª `wp-content/themes/rostest/includes/doctor-fields.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Å–µ—Ö ACF –ø–æ–ª–µ–π –¥–ª—è –≤—Ä–∞—á–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Nonce-—Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤

–í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ–≤–µ—Ä–∫—É nonce:

```php
if (!wp_verify_nonce(sanitize_text_field($_GET['_wpnonce']), 'filter_doctors')) {
    return; // –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π nonce - –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
}
```

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —à–∞–±–ª–æ–Ω–µ —Ñ–∏–ª—å—Ç—Ä–∞:
```php
<?php wp_nonce_field('filter_doctors'); ?>
```

### –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ GET –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é:
```php
$specialization = sanitize_text_field($_GET['specialization']);  // –î–ª—è —Ç–µ–∫—Å—Ç–∞
$sort = sanitize_key($_GET['sort']);                            // –î–ª—è –∫–ª—é—á–µ–π
```

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **CMS:** WordPress 5.9+
- **PHP:** 7.4+
- **–ë–î:** MySQL/MariaDB
- **ACF:** Advanced Custom Fields (Free/Pro)
- **–Ø–∑—ã–∫:** –†—É—Å—Å–∫–∏–π
---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **GitHub:** https://github.com/valeryshel
- **–ü—Ä–æ—Ñ–∏–ª—å:** [valeryshel –Ω–∞ GitHub](https://github.com/valeryshel)


**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** January 21, 2026

